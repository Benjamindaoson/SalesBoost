# SalesBoost Environment Variables - Complete Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# CRITICAL: Never commit .env file to version control!
# ============================================================================

# Core
ENV_STATE=production  # development, staging, production
DEBUG=false
LOG_LEVEL=INFO

# Security
SECRET_KEY=replace-with-strong-secret  # Generate with: openssl rand -hex 32
ADMIN_USERNAME=admin
ADMIN_PASSWORD_HASH=$2b$12$replace_with_bcrypt_hash

# Database
DATABASE_URL=postgresql+asyncpg://salesboost:change_me@localhost:5432/salesboost
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_RECYCLE=3600

# Redis
REDIS_URL=redis://localhost:6379/0

# Vector Store
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=  # Optional, for Qdrant Cloud

# LLM Providers
# REQUIRED: At least one LLM provider must be configured
OPENAI_API_KEY=  # sk-...
GOOGLE_API_KEY=  # AIza...
SILICONFLOW_API_KEY=  # sk-... (REQUIRED for DeepSeek models)
SILICONFLOW_BASE_URL=https://api.siliconflow.cn/v1

# Alibaba Cloud DashScope (for Qwen-VL-OCR)
DASHSCOPE_API_KEY=  # sk-... (REQUIRED for PDF OCR processing)

# Authentication (Supabase)
SUPABASE_URL=  # https://xxx.supabase.co
SUPABASE_KEY=  # eyJ...
SUPABASE_JWT_SECRET=  # your-jwt-secret

# CORS
CORS_ORIGINS=https://app.salesboost.ai,http://localhost:3000,http://localhost:5173
ALLOWED_HOSTS=localhost,127.0.0.1,app.salesboost.ai

# Feature Flags
AGENTIC_V3_ENABLED=true
BANDIT_ROUTING_ENABLED=false
TOOL_RATE_LIMIT_ENABLED=true
TOOL_CACHE_ENABLED=true

# Coordinator Engine Selection
# Options: legacy | workflow | langgraph
# - legacy: MVP Orchestrator (cognitive.Orchestrator)
# - workflow: WorkflowCoordinator with AI intent classification
# - langgraph: LangGraphCoordinator with graph-oriented workflow (RECOMMENDED)
COORDINATOR_ENGINE=langgraph

# AI Intent Classification
ENABLE_ML_INTENT=true
ENABLE_CONTEXT_AWARE=true

# A/B Testing
AB_TESTING_ENABLED=false
AB_TRAFFIC_SPLIT=0.1  # 10% traffic to variant B

# WebSocket
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10
WEBSOCKET_MANAGER_TYPE=memory  # memory (single server) | redis (horizontal scaling)

# Session Management
SESSION_TIMEOUT_MINUTES=60
MAX_ACTIVE_SESSIONS=100

# Tool Configuration
TOOL_RETRY_ENABLED=true
TOOL_RETRY_MAX_ATTEMPTS=3
TOOL_PARALLEL_ENABLED=true
TOOL_PARALLEL_MAX_CONCURRENT=5

# RAG Configuration (Week 2)
RAG_HYBRID_ENABLED=true
RAG_TOP_K=5
RAG_SIMILARITY_THRESHOLD=0.75
BGE_RERANKER_ENABLED=true
BGE_RERANKER_MODEL=BAAI/bge-reranker-base
BGE_RERANKER_TOP_K=5
BGE_RERANKER_BATCH_SIZE=32

# Long-Term Memory Configuration (Week 3)
LONG_TERM_MEMORY_ENABLED=true
LONG_TERM_MEMORY_LOOKBACK_DAYS=30
LONG_TERM_MEMORY_MAX_RESULTS=5

# Self-Correction Configuration (Week 3)
SELF_CORRECTION_ENABLED=true
SELF_CORRECTION_MAX_ATTEMPTS=2
SELF_CORRECTION_CONFIDENCE_THRESHOLD=0.7

# Cache Configuration
SEMANTIC_CACHE_ENABLED=true
SEMANTIC_CACHE_TTL_SECONDS=3600
SEMANTIC_CACHE_MAX_ENTRIES=1000
TOOL_CACHE_LRU_ENABLED=true
TOOL_CACHE_ACCESS_TRACKING=true

# Monitoring & Observability
PROMETHEUS_ENABLED=true
TRACING_ENABLED=false
JAEGER_ENDPOINT=  # http://localhost:14268/api/traces
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
GF_SECURITY_ADMIN_PASSWORD=replace_with_strong_password

# Secrets Management (Production)
# Choose one: vault, aws, or leave empty for environment variables
VAULT_ADDR=  # http://vault:8200
VAULT_TOKEN=  # s.xxx
VAULT_SECRET_PATH=secret/data/salesboost

# AWS Secrets Manager (Alternative to Vault)
AWS_REGION=  # us-east-1
AWS_SECRET_NAME=  # salesboost/production
AWS_SECRETS_ENABLED=false

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# Email (Optional, for notifications)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@salesboost.ai

# Analytics (Optional)
MIXPANEL_TOKEN=
GOOGLE_ANALYTICS_ID=
