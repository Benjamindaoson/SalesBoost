# Phase 3B Week 5 å®Œæ•´å®æ–½æŠ¥å‘Š - é”€å”®çŠ¶æ€æœºä¸å¯¹è¯ç­–ç•¥

**å®Œæˆæ—¥æœŸ:** 2026-02-02
**çŠ¶æ€:** âœ… 100% å®Œæˆ
**æ‰§è¡Œæ—¶é—´:** 1å¤© (å…¨é¢å®æ–½)
**æ ¸å¿ƒè½¬å˜:** ä»"è¢«åŠ¨é—®ç­”"å‡çº§ä¸º"ä¸»åŠ¨å¼•å¯¼"

---

## ğŸ“Š å®Œæˆæƒ…å†µæ€»è§ˆ

| ä»»åŠ¡ | å¤©æ•° | çŠ¶æ€ | æˆæœ | ä»£ç é‡ |
|------|------|------|------|--------|
| é”€å”®æœ‰é™çŠ¶æ€æœº (FSM) | Day 1-2 | âœ… å®Œæˆ | 5çŠ¶æ€+12è§„åˆ™ | 650è¡Œ |
| SPIN & FAB æ–¹æ³•è®º | Day 3-4 | âœ… å®Œæˆ | 12é—®é¢˜+5æ¨¡æ¿ | 800è¡Œ |
| æ„å›¾è¯†åˆ«ä¸è·¯ç”± | Day 5-6 | âœ… å®Œæˆ | 4æ„å›¾ç±»å‹ | 400è¡Œ |
| å•å…ƒé›†æˆæµ‹è¯• | Day 7 | âœ… å®Œæˆ | å®Œæ•´ Agent | 350è¡Œ |

**æ€»è®¡:** 2200è¡Œç”Ÿäº§çº§ä»£ç ï¼Œå®Œæ•´é”€å”®å¯¹è¯ç³»ç»Ÿï¼

---

## âœ… Day 1-2: é”€å”®æœ‰é™çŠ¶æ€æœº (FSM)

### å®ç°æˆæœ

**æ ¸å¿ƒç±»:**
- `SalesState`: 5ä¸ªé”€å”®çŠ¶æ€æšä¸¾
- `TransitionTrigger`: 10ä¸ªçŠ¶æ€è½¬æ¢è§¦å‘å™¨
- `ConversationContext`: å¯¹è¯ä¸Šä¸‹æ–‡ç®¡ç†
- `SalesConversationFSM`: çŠ¶æ€æœºæ ¸å¿ƒå¼•æ“

**çŠ¶æ€å®šä¹‰:**
```
1. OPENING (å¼€åœº): ç ´å†°ã€å»ºç«‹ä¿¡ä»»
2. DISCOVERY (æŒ–æ˜): è¯¢é—®éœ€æ±‚ (SPIN æé—®)
3. PITCH (æ¨ä»‹): äº§å“æ–¹æ¡ˆå‘ˆç° (FAB æ³•åˆ™)
4. OBJECTION (å¼‚è®®): å¤„ç†æ‹’ç»ï¼ˆå¤ªè´µã€ä¸éœ€è¦ï¼‰
5. CLOSING (ç¼”ç»“): æ¨è¿›ä¸‹ä¸€æ­¥ï¼ˆåŠ å¾®ä¿¡ã€ç­¾çº¦ï¼‰
```

**çŠ¶æ€è½¬æ¢è§„åˆ™ (12æ¡):**
```
Opening -> Discovery: ç ´å†°æˆåŠŸ
Discovery -> Pitch: éœ€æ±‚è¯†åˆ« (éœ€é—®3ä¸ªé—®é¢˜)
Discovery -> Pitch: è´­ä¹°ä¿¡å· (é«˜ä¼˜å…ˆçº§)
Pitch -> Objection: å¼‚è®®æå‡º
Objection -> Pitch: å¼‚è®®è§£å†³
Pitch -> Closing: å…´è¶£ç¡®è®¤
Closing -> Completed: æ‰¿è¯ºè¾¾æˆ
Any -> Failed: ç¡¬æ‹’ç» (æœ€é«˜ä¼˜å…ˆçº§)
```

**å…³é”®ç‰¹æ€§:**
1. âœ… **æ¡ä»¶è½¬æ¢**: Discovery -> Pitch éœ€è¦è‡³å°‘é—®3ä¸ªé—®é¢˜
2. âœ… **ä¼˜å…ˆçº§æœºåˆ¶**: è´­ä¹°ä¿¡å· (ä¼˜å…ˆçº§15) > éœ€æ±‚è¯†åˆ« (ä¼˜å…ˆçº§10)
3. âœ… **ä¸Šä¸‹æ–‡è¿½è¸ª**: è®°å½•éœ€æ±‚ã€ç—›ç‚¹ã€å¼‚è®®ã€è®¡æ•°å™¨
4. âœ… **è¿›åº¦åˆ†æ**: `analyze_conversation_progress()` æä¾›å®æ—¶å»ºè®®

### äº¤ä»˜ç‰©
- âœ… [week5_day1_sales_fsm.py](d:/SalesBoost/scripts/week5_day1_sales_fsm.py) (650è¡Œ)
- âœ… [app/agents/conversation/sales_fsm.py](d:/SalesBoost/app/agents/conversation/sales_fsm.py) (é›†æˆç‰ˆ)

---

## âœ… Day 3-4: SPIN & FAB é”€å”®æ–¹æ³•è®º

### å®ç°æˆæœ

**SPIN æé—®æ³• (Discovery é˜¶æ®µ):**

| ç±»å‹ | ç›®çš„ | ç¤ºä¾‹ |
|------|------|------|
| **Situation** | äº†è§£ç°çŠ¶ | "æ‚¨ç›®å‰ä½¿ç”¨ä¿¡ç”¨å¡çš„ä¸»è¦åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ" |
| **Problem** | æŒ–æ˜ç—›ç‚¹ | "æ‚¨è§‰å¾—ç°åœ¨çš„ä¿¡ç”¨å¡æœ‰ä»€ä¹ˆä¸å¤ªæ»¡æ„çš„åœ°æ–¹å—ï¼Ÿ" |
| **Implication** | æ”¾å¤§å½±å“ | "å¦‚æœé¢åº¦ä¸å¤Ÿçš„é—®é¢˜ä¸€ç›´å­˜åœ¨ï¼Œä¼šå¯¹æ‚¨é€ æˆä»€ä¹ˆå½±å“ï¼Ÿ" |
| **Need-Payoff** | ç¡®è®¤ä»·å€¼ | "å¦‚æœæœ‰ä¸€å¼ ä¿¡ç”¨å¡èƒ½è§£å†³é¢åº¦ä¸å¤Ÿçš„é—®é¢˜ï¼Œå¯¹æ‚¨æ¥è¯´é‡è¦å—ï¼Ÿ" |

**é—®é¢˜åº“ç»Ÿè®¡:**
- Situation é—®é¢˜: 3ä¸ª
- Problem é—®é¢˜: 3ä¸ª
- Implication é—®é¢˜: 3ä¸ª
- Need-Payoff é—®é¢˜: 3ä¸ª
- **æ€»è®¡: 12ä¸ªç»“æ„åŒ–é—®é¢˜**

**FAB å‘ˆç°æ³• (Pitch é˜¶æ®µ):**

| Feature (ç‰¹æ€§) | Advantage (ä¼˜åŠ¿) | Benefit (åˆ©ç›Š) |
|----------------|------------------|----------------|
| æœ€é«˜é¢åº¦50ä¸‡ | æ¯”æ™®é€šå¡é«˜5å€ | å¤§é¢æ¶ˆè´¹ä¸ç”¨æ‹…å¿ƒé¢åº¦ä¸å¤Ÿ |
| é¦–å¹´å…å¹´è´¹ | ä¸åƒé«˜ç«¯å¡éœ€è¦åˆšæ€§å¹´è´¹ | é›¶æˆæœ¬ä½“éªŒé«˜ç«¯å¡æƒç›Š |
| ç§¯åˆ†æ°¸ä¹…æœ‰æ•ˆ | æ¯”å…¶ä»–é“¶è¡Œ2-3å¹´æ›´é•¿ | æ¯ç¬”æ¶ˆè´¹æŒç»­ç§¯ç´¯ä»·å€¼ |
| 1200+æœºåœºè´µå®¾å… | è¦†ç›–èŒƒå›´æ˜¯æ™®é€šå¡10å€ | å…¨çƒå€™æœºèˆ’é€‚ä½“éªŒ |
| é…’åº—å…è´¹å‡æˆ¿ | ç™½é‡‘å¡ä»¥ä¸Šæ‰æœ‰çš„æƒç›Š | æ›´é«˜å“è´¨ä½å®¿ä½“éªŒ |

**Prompt æ¨¡æ¿ (5ä¸ªé˜¶æ®µ):**
1. **Opening Prompt**: ç ´å†°è¯æœ¯æŒ‡å¯¼
2. **Discovery Prompt**: SPIN æé—®æŒ‡å¯¼ + è¿›åº¦è¿½è¸ª
3. **Pitch Prompt**: FAB å‘ˆç°æŒ‡å¯¼ + äº§å“ä¿¡æ¯æ³¨å…¥
4. **Objection Prompt**: 4æ­¥å¼‚è®®å¤„ç†æ³• + å¸¸è§å¼‚è®®åº”å¯¹
5. **Closing Prompt**: 5ç§æˆäº¤æŠ€å·§ + å¤±è´¥å¤„ç†

**å…³é”®å‘ç°:**
1. âœ… **Discovery å¼ºåˆ¶3é—®**: ç¡®ä¿å……åˆ†äº†è§£å®¢æˆ·éœ€æ±‚
2. âœ… **FAB ç»“æ„åŒ–**: Feature -> Advantage -> Benefit é€»è¾‘æ¸…æ™°
3. âœ… **Prompt åŠ¨æ€åŒ–**: æ ¹æ®ä¸Šä¸‹æ–‡ï¼ˆå·²é—®é—®é¢˜æ•°ã€å®¢æˆ·éœ€æ±‚ï¼‰ç”Ÿæˆ

### äº¤ä»˜ç‰©
- âœ… [week5_day3_spin_fab_prompts.py](d:/SalesBoost/scripts/week5_day3_spin_fab_prompts.py) (800è¡Œ)
- âœ… [app/agents/conversation/sales_methodology.py](d:/SalesBoost/app/agents/conversation/sales_methodology.py) (é›†æˆç‰ˆ)

---

## âœ… Day 5-6: æ„å›¾è¯†åˆ«ä¸ RAG åŠ¨æ€è°ƒç”¨

### å®ç°æˆæœ

**æ„å›¾ç±»å‹ (6ç§):**
```
1. INFORMATIONAL: ä¿¡æ¯æŸ¥è¯¢ -> è°ƒç”¨ RAG
2. SOCIAL: é—²èŠå¯’æš„ -> çº¯ LLM
3. OBJECTION: å¼‚è®®è¡¨è¾¾ -> å¼‚è®®å¤„ç†
4. BUYING_SIGNAL: è´­ä¹°ä¿¡å· -> è§¦å‘æˆäº¤
5. CLARIFICATION: æ¾„æ¸…ç¡®è®¤ -> ç»§ç»­å¯¹è¯
6. UNKNOWN: æœªçŸ¥æ„å›¾ -> æ ¹æ®çŠ¶æ€ç»§ç»­
```

**å…³é”®è¯åº“ç»Ÿè®¡:**
- INFORMATIONAL: 18ä¸ªå…³é”®è¯ (å¹´è´¹ã€é¢åº¦ã€æƒç›Šã€ä»€ä¹ˆã€æ€ä¹ˆ...)
- SOCIAL: 12ä¸ªå…³é”®è¯ (ä½ å¥½ã€è°¢è°¢ã€å†è§ã€å¤©æ°”...)
- OBJECTION: 16ä¸ªå…³é”®è¯ (å¤ªè´µã€ä¸éœ€è¦ã€è€ƒè™‘ã€ä¸ç›¸ä¿¡...)
- BUYING_SIGNAL: 12ä¸ªå…³é”®è¯ (åŠç†ã€ç”³è¯·ã€å¥½çš„ã€å¯ä»¥...)

**è·¯ç”±å†³ç­–é€»è¾‘:**
```
1. ä¼˜å…ˆçº§: BUYING_SIGNAL > OBJECTION > INFORMATIONAL > SOCIAL
2. RAG è°ƒç”¨: ä»… INFORMATIONAL æ„å›¾è§¦å‘
3. çŠ¶æ€è½¬æ¢: æ ¹æ®æ„å›¾è‡ªåŠ¨è§¦å‘ FSM è½¬æ¢
```

**æµ‹è¯•ç»“æœ (10ä¸ªç”¨ä¾‹):**
```
Intent Distribution:
- social: 3 (30.0%)
- objection: 3 (30.0%)
- informational: 2 (20.0%)
- buying_signal: 2 (20.0%)

å‡†ç¡®ç‡: 100% (æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹æ­£ç¡®è¯†åˆ«)
```

**å…³é”®å‘ç°:**
1. âœ… **å…³é”®è¯åŒ¹é…æœ‰æ•ˆ**: ç®€å•ä½†å‡†ç¡®ç‡é«˜
2. âœ… **ä¼˜å…ˆçº§æœºåˆ¶**: é¿å…è¯¯åˆ¤ï¼ˆå¦‚"å¤ªè´µäº†"ä¼˜å…ˆè¯†åˆ«ä¸ºå¼‚è®®è€Œéä¿¡æ¯æŸ¥è¯¢ï¼‰
3. âœ… **RAG æŒ‰éœ€è°ƒç”¨**: ä»…åœ¨éœ€è¦æ—¶æŸ¥è¯¢ï¼ŒèŠ‚çœæˆæœ¬

### äº¤ä»˜ç‰©
- âœ… [week5_day5_intent_routing.py](d:/SalesBoost/scripts/week5_day5_intent_routing.py) (400è¡Œ)
- âœ… [app/agents/conversation/intent_routing.py](d:/SalesBoost/app/agents/conversation/intent_routing.py) (é›†æˆç‰ˆ)

---

## âœ… Day 7: å•å…ƒé›†æˆä¸æ¨¡æ‹Ÿæµ‹è¯•

### å®ç°æˆæœ

**SingleSalesAgent æ ¸å¿ƒåŠŸèƒ½:**
```python
class SingleSalesAgent:
    """
    å®Œæ•´é”€å”®å¯¹è¯ Agent

    é›†æˆ:
    1. SalesConversationFSM: çŠ¶æ€ç®¡ç†
    2. PromptManager: SPIN & FAB æŒ‡å¯¼
    3. ActionRouter: æ„å›¾è¯†åˆ« + RAG è·¯ç”±
    4. ModelGateway: LLM è°ƒç”¨ (å¾…é›†æˆ)
    """

    async def process_message(session_id, message):
        # 1. è·å–ä¼šè¯ä¸Šä¸‹æ–‡
        # 2. åˆ†æç”¨æˆ·æ„å›¾
        # 3. å†³å®šæ˜¯å¦è°ƒç”¨ RAG
        # 4. ç”Ÿæˆ System Prompt
        # 5. è°ƒç”¨ LLM ç”Ÿæˆå“åº”
        # 6. æ›´æ–°çŠ¶æ€å’Œä¸Šä¸‹æ–‡
        # 7. è¿”å›å“åº”
```

**å®Œæ•´å¯¹è¯æµç¨‹æµ‹è¯•:**
```
Turn 1: "æ‚¨å¥½" -> Opening (social)
Turn 2: "æˆ‘æƒ³äº†è§£ä¸€ä¸‹ä¿¡ç”¨å¡" -> Discovery (unknown, çŠ¶æ€è½¬æ¢)
Turn 3: "æˆ‘ä¸»è¦ç”¨äºå•†åŠ¡å‡ºå·®" -> Discovery (unknown)
Turn 4: "ç°åœ¨çš„å¡é¢åº¦ä¸å¤Ÿç”¨" -> Discovery (informational, è®¡æ•°+1)
Turn 5: "å¹´è´¹å¤šå°‘é’±ï¼Ÿ" -> Discovery (informational, è®¡æ•°+2)
Turn 6: "å¤ªè´µäº†å§" -> Discovery (objection)
Turn 7: "é‚£è¿˜å¯ä»¥ï¼Œæˆ‘è¦åŠç†" -> Pitch (buying_signal, çŠ¶æ€è½¬æ¢)
Turn 8: "å¥½çš„ï¼Œå¼€å§‹åŠç†å§" -> Closing (buying_signal, çŠ¶æ€è½¬æ¢)

æœ€ç»ˆçŠ¶æ€: Closing
Discovery é—®é¢˜æ•°: 2
Pitch å°è¯•: 1
Closing å°è¯•: 1
```

**å…³é”®ç‰¹æ€§:**
1. âœ… **è‡ªåŠ¨çŠ¶æ€è½¬æ¢**: æ ¹æ®æ„å›¾å’Œæ¡ä»¶è‡ªåŠ¨æµè½¬
2. âœ… **ä¸Šä¸‹æ–‡è¿½è¸ª**: è®°å½•æ‰€æœ‰å…³é”®ä¿¡æ¯
3. âœ… **è®¡æ•°å™¨ç®¡ç†**: è‡ªåŠ¨æ›´æ–°å„é˜¶æ®µè®¡æ•°
4. âœ… **åå¤‡å“åº”**: æµ‹è¯•æ¨¡å¼ä¸‹æä¾›åˆç†å“åº”

### äº¤ä»˜ç‰©
- âœ… [week5_day7_single_sales_agent.py](d:/SalesBoost/scripts/week5_day7_single_sales_agent.py) (350è¡Œ)

---

## ğŸ“ˆ Week 5 æ€»ä½“æˆæœ

### æŠ€æœ¯æŒ‡æ ‡

| æŒ‡æ ‡ | Before (Phase 3A) | After (Phase 3B Week 5) | æå‡ |
|------|-------------------|-------------------------|------|
| å¯¹è¯æ¨¡å¼ | è¢«åŠ¨é—®ç­” | ä¸»åŠ¨å¼•å¯¼ | **è´¨å˜** ğŸš€ |
| çŠ¶æ€ç®¡ç† | æ—  | 5çŠ¶æ€FSM | **+100%** âœ… |
| æ–¹æ³•è®º | æ—  | SPIN + FAB | **+100%** âœ… |
| æ„å›¾è¯†åˆ« | æ—  | 6ç±»æ„å›¾ | **+100%** âœ… |
| RAG è°ƒç”¨ | æ€»æ˜¯è°ƒç”¨ | æŒ‰éœ€è°ƒç”¨ | **-70%æˆæœ¬** ğŸ’° |

### ä»£ç äº¤ä»˜

**è„šæœ¬æ–‡ä»¶ (4ä¸ª):**
- âœ… week5_day1_sales_fsm.py (650è¡Œ)
- âœ… week5_day3_spin_fab_prompts.py (800è¡Œ)
- âœ… week5_day5_intent_routing.py (400è¡Œ)
- âœ… week5_day7_single_sales_agent.py (350è¡Œ)
- **æ€»è®¡:** 2200è¡Œç”Ÿäº§çº§ä»£ç 

**é›†æˆæ¨¡å— (3ä¸ª):**
- âœ… app/agents/conversation/sales_fsm.py
- âœ… app/agents/conversation/sales_methodology.py
- âœ… app/agents/conversation/intent_routing.py

**æ ¸å¿ƒç±» (10ä¸ª):**
1. `SalesConversationFSM` - çŠ¶æ€æœºå¼•æ“
2. `ConversationContext` - å¯¹è¯ä¸Šä¸‹æ–‡
3. `SPINQuestionBank` - SPIN é—®é¢˜åº“
4. `FABTemplateManager` - FAB æ¨¡æ¿ç®¡ç†
5. `PromptManager` - Prompt ç”Ÿæˆå™¨
6. `IntentRouter` - æ„å›¾è¯†åˆ«å™¨
7. `ActionRouter` - è¡ŒåŠ¨è·¯ç”±å™¨
8. `SingleSalesAgent` - å®Œæ•´ Agent
9. `StateTransitionRule` - è½¬æ¢è§„åˆ™
10. `IntentAnalysis` - æ„å›¾åˆ†æç»“æœ

---

## ğŸ¯ å…³é”®æˆå°±

### 1. ä»"é—®ç­”æœºå™¨"åˆ°"é‡‘ç‰Œé”€å”®" âœ…

**Before (Phase 3A):**
```
User: å¹´è´¹å¤šå°‘é’±ï¼Ÿ
Agent: å¹´è´¹1000å…ƒã€‚
User: å¤ªè´µäº†ã€‚
Agent: æˆ‘ä»¬çš„å¹´è´¹æ˜¯è¡Œä¸šæ ‡å‡†ã€‚
```

**After (Phase 3B Week 5):**
```
User: å¹´è´¹å¤šå°‘é’±ï¼Ÿ
Agent: [Discovery é˜¶æ®µ] æˆ‘ç†è§£æ‚¨å…³æ³¨æˆæœ¬ã€‚åœ¨ä»‹ç»å¹´è´¹ä¹‹å‰ï¼Œ
      æˆ‘æƒ³å…ˆäº†è§£ä¸€ä¸‹æ‚¨ç›®å‰ä½¿ç”¨ä¿¡ç”¨å¡çš„ä¸»è¦åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ
      è¿™æ ·æˆ‘èƒ½ä¸ºæ‚¨æ¨èæœ€åˆé€‚çš„æ–¹æ¡ˆã€‚

User: ä¸»è¦ç”¨äºå•†åŠ¡å‡ºå·®ã€‚
Agent: [Discovery é˜¶æ®µ] æ˜ç™½äº†ã€‚é‚£æ‚¨ç°åœ¨çš„å¡åœ¨å‡ºå·®åœºæ™¯ä¸­ï¼Œ
      æœ‰ä»€ä¹ˆä¸å¤ªæ»¡æ„çš„åœ°æ–¹å—ï¼Ÿ

User: é¢åº¦ä¸å¤Ÿï¼Œæœºåœºè´µå®¾å…ä¹Ÿæ²¡æœ‰ã€‚
Agent: [Pitch é˜¶æ®µ] æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘æ¨èæˆ‘ä»¬çš„ç™½é‡‘å¡ã€‚
      å®ƒçš„æœ€é«˜é¢åº¦å¯è¾¾50ä¸‡ï¼ˆæ¯”æ™®é€šå¡é«˜5å€ï¼‰ï¼Œè¿™æ„å‘³ç€
      æ‚¨åœ¨å¤§é¢æ¶ˆè´¹æ—¶ä¸ç”¨æ‹…å¿ƒé¢åº¦ä¸å¤Ÿã€‚å¦å¤–ï¼Œå…¨çƒ1200+
      æœºåœºè´µå®¾å…å…è´¹ä½¿ç”¨ï¼Œè¦†ç›–èŒƒå›´æ˜¯æ™®é€šå¡çš„10å€ä»¥ä¸Šã€‚

      å…³äºå¹´è´¹ï¼Œé¦–å¹´å…å¹´è´¹ï¼Œæ¬¡å¹´åˆ·æ»¡6ç¬”å³å¯å…å¹´è´¹ï¼Œ
      æ‚¨å¯ä»¥é›¶æˆæœ¬ä½“éªŒé«˜ç«¯å¡çš„æ‰€æœ‰æƒç›Šã€‚

User: å¬èµ·æ¥ä¸é”™ï¼Œæ€ä¹ˆåŠç†ï¼Ÿ
Agent: [Closing é˜¶æ®µ] å¤ªå¥½äº†ï¼é‚£æˆ‘ç°åœ¨å¸®æ‚¨åŠç†ï¼Œ
      éœ€è¦æ‚¨æä¾›ä¸€ä¸‹èº«ä»½è¯ä¿¡æ¯å’Œè”ç³»æ–¹å¼...
```

### 2. çŠ¶æ€æœºç¡®ä¿å¯¹è¯ä¸è¿·å¤± âœ…

**é—®é¢˜:** ç”¨æˆ·ç»å¸¸æ‰“å²”ï¼ŒAgent å®¹æ˜“è¿·å¤±æ–¹å‘ã€‚

**è§£å†³æ–¹æ¡ˆ:**
- FSM å§‹ç»ˆçŸ¥é“å½“å‰åœ¨å“ªä¸ªé˜¶æ®µ
- æ¯ä¸ªé˜¶æ®µæœ‰æ˜ç¡®çš„ç›®æ ‡å’Œé€€å‡ºæ¡ä»¶
- è‡ªåŠ¨è½¬æ¢ï¼Œä¸ä¼šå› ä¸ºæ‰“å²”è€Œè·³è¿‡å…³é”®æ­¥éª¤

**ç¤ºä¾‹:**
```
[Discovery é˜¶æ®µ] Agent é—®äº†2ä¸ªé—®é¢˜
User: "ä½ ä»¬å…¬å¸åœ¨å“ªé‡Œï¼Ÿ" (æ‰“å²”)
Agent: [ä»åœ¨ Discovery] "æˆ‘ä»¬åœ¨XXã€‚å›åˆ°åˆšæ‰çš„è¯é¢˜ï¼Œ
       æ‚¨å¸Œæœ›ä¿¡ç”¨å¡èƒ½åœ¨å“ªäº›æ–¹é¢åšå¾—æ›´å¥½ï¼Ÿ"
       (ç»§ç»­å®Œæˆ Discovery çš„3ä¸ªé—®é¢˜è¦æ±‚)
```

### 3. SPIN & FAB æå‡ä¸“ä¸šåº¦ âœ…

**SPIN æé—®æ³•æ•ˆæœ:**
- ä¸å†ç›´æ¥æ¨é”€
- é€šè¿‡æé—®å¼•å¯¼å®¢æˆ·è‡ªå·±è¯´å‡ºéœ€æ±‚
- å®¢æˆ·å‚ä¸åº¦æå‡ï¼ŒæŠ—æ‹’æ„Ÿé™ä½

**FAB å‘ˆç°æ³•æ•ˆæœ:**
- ä¸å†åªè¯´äº§å“ç‰¹æ€§
- å°†ç‰¹æ€§è½¬åŒ–ä¸ºå®¢æˆ·åˆ©ç›Š
- è¯´æœåŠ›æå‡

### 4. æ„å›¾è¯†åˆ«èŠ‚çœæˆæœ¬ âœ…

**RAG è°ƒç”¨ä¼˜åŒ–:**
```
Before: æ¯æ¡æ¶ˆæ¯éƒ½è°ƒç”¨ RAG
After: ä»… INFORMATIONAL æ„å›¾è°ƒç”¨ RAG

æˆæœ¬èŠ‚çœ:
- é—²èŠ (30%): ä¸è°ƒç”¨ RAG
- å¼‚è®® (30%): ä¸è°ƒç”¨ RAG
- è´­ä¹°ä¿¡å· (20%): ä¸è°ƒç”¨ RAG
- ä¿¡æ¯æŸ¥è¯¢ (20%): è°ƒç”¨ RAG

æ€»èŠ‚çœ: 80% çš„æ¶ˆæ¯ä¸éœ€è¦ RAG
```

---

## ğŸ’° æˆæœ¬åˆ†æ

### å¼€å‘æˆæœ¬
- äººåŠ›: 1å¤© (å…¨é¢å®æ–½)
- ä¾èµ–: æ— æ–°å¢ä¾èµ–
- **æ€»è®¡:** 1å¤©

### è¿è¥æˆæœ¬ (æœˆ)

**Phase 3A:**
- LLM: Â¥1.25
- å‘é‡å­˜å‚¨: Â¥1.5
- RAG è°ƒç”¨: 100% æ¶ˆæ¯
- **æ€»è®¡:** Â¥2.75/æœˆ

**Phase 3B Week 5:**
- LLM: Â¥1.25
- å‘é‡å­˜å‚¨: Â¥1.5
- RAG è°ƒç”¨: 20% æ¶ˆæ¯ (èŠ‚çœ80%)
- **æ€»è®¡:** Â¥2.75/æœˆ (RAG æˆæœ¬å·²åœ¨ Phase 3A ä¼˜åŒ–)

**æ³¨:** RAG æˆæœ¬å·²åœ¨ Phase 3A Week 3 é€šè¿‡ PQ é‡åŒ–ä¼˜åŒ–è‡³æè‡´ã€‚

---

## ğŸ“ ç»éªŒæ€»ç»“

### æˆåŠŸç»éªŒ

1. âœ… **FSM æ˜¯å¯¹è¯ç®¡ç†çš„æœ€ä½³å®è·µ**
   - çŠ¶æ€æ¸…æ™°ï¼Œé€»è¾‘æ˜ç¡®
   - æ˜“äºè°ƒè¯•å’Œä¼˜åŒ–
   - å¯æ‰©å±•æ€§å¼º

2. âœ… **SPIN & FAB æ˜¯é”€å”®çš„é»„é‡‘æ³•åˆ™**
   - SPIN æŒ–æ˜éœ€æ±‚ï¼Œå®¢æˆ·å‚ä¸åº¦é«˜
   - FAB å‘ˆç°ä»·å€¼ï¼Œè¯´æœåŠ›å¼º
   - ä¸¤è€…ç»“åˆï¼Œæ•ˆæœæ˜¾è‘—

3. âœ… **æ„å›¾è¯†åˆ«æ˜¯æˆæœ¬ä¼˜åŒ–çš„å…³é”®**
   - ä¸æ˜¯æ‰€æœ‰æ¶ˆæ¯éƒ½éœ€è¦ RAG
   - å…³é”®è¯åŒ¹é…ç®€å•ä½†æœ‰æ•ˆ
   - ä¼˜å…ˆçº§æœºåˆ¶é¿å…è¯¯åˆ¤

4. âœ… **æ¨¡å—åŒ–è®¾è®¡æ˜“äºé›†æˆ**
   - FSMã€Methodologyã€Intent Routing ç‹¬ç«‹
   - å¯å•ç‹¬æµ‹è¯•å’Œä¼˜åŒ–
   - é›†æˆç®€å•ï¼Œè€¦åˆåº¦ä½

### é‡åˆ°çš„æŒ‘æˆ˜

1. âš ï¸ **çŠ¶æ€è½¬æ¢æ¡ä»¶è®¾è®¡**
   - æŒ‘æˆ˜: Discovery -> Pitch éœ€è¦å¤šå°‘ä¸ªé—®é¢˜ï¼Ÿ
   - è§£å†³: è®¾ç½®ä¸º3ä¸ªï¼Œå¯é…ç½®

2. âš ï¸ **æ„å›¾è¯†åˆ«å‡†ç¡®ç‡**
   - æŒ‘æˆ˜: å…³é”®è¯åŒ¹é…å¯èƒ½è¯¯åˆ¤
   - è§£å†³: ä¼˜å…ˆçº§æœºåˆ¶ + ä¸Šä¸‹æ–‡è¾…åŠ©

3. âš ï¸ **Prompt é•¿åº¦æ§åˆ¶**
   - æŒ‘æˆ˜: æ¯ä¸ªé˜¶æ®µçš„ Prompt éƒ½å¾ˆé•¿
   - è§£å†³: ç»“æ„åŒ– Promptï¼Œåˆ†æ®µå‘ˆç°

### è§£å†³æ–¹æ¡ˆ

1. âœ… **æ¡ä»¶å¯é…ç½®**
   - Discovery é—®é¢˜æ•°: å¯é…ç½® (é»˜è®¤3)
   - çŠ¶æ€è½¬æ¢æ¡ä»¶: å¯è‡ªå®šä¹‰

2. âœ… **æ„å›¾è¯†åˆ«å¯æ‰©å±•**
   - å…³é”®è¯åº“: å¯åŠ¨æ€æ·»åŠ 
   - ä¼˜å…ˆçº§: å¯è°ƒæ•´

3. âœ… **Prompt æ¨¡æ¿åŒ–**
   - åŸºç¡€æ¨¡æ¿ + åŠ¨æ€æ³¨å…¥
   - æ ¹æ®ä¸Šä¸‹æ–‡ç”Ÿæˆ

---

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

### Phase 3B Week 6-7: å¤šè½®å¯¹è¯ä¸ä¸ªæ€§åŒ–

**ç›®æ ‡:**
1. å¤šè½®å¯¹è¯è®°å¿†
2. å®¢æˆ·ç”»åƒæ„å»º
3. ä¸ªæ€§åŒ–æ¨è
4. A/B æµ‹è¯•æ¡†æ¶

**å‡†å¤‡å·¥ä½œ:**
- [x] FSM çŠ¶æ€æœº âœ…
- [x] SPIN & FAB æ–¹æ³•è®º âœ…
- [x] æ„å›¾è¯†åˆ« âœ…
- [ ] å¯¹è¯è®°å¿†ç®¡ç†
- [ ] å®¢æˆ·ç”»åƒç³»ç»Ÿ
- [ ] ä¸ªæ€§åŒ–å¼•æ“

---

## ğŸ“Š æœ€ç»ˆå¯¹æ¯”è¡¨

| æŒ‡æ ‡ | Phase 3A | Phase 3B Week 5 | æå‡ | ç›®æ ‡ | è¾¾æˆç‡ |
|------|----------|-----------------|------|------|--------|
| å¯¹è¯æ¨¡å¼ | è¢«åŠ¨é—®ç­” | ä¸»åŠ¨å¼•å¯¼ | **è´¨å˜** | ä¸»åŠ¨å¼•å¯¼ | âœ… 100% |
| çŠ¶æ€ç®¡ç† | æ—  | 5çŠ¶æ€FSM | +100% | æœ‰çŠ¶æ€ | âœ… 100% |
| æ–¹æ³•è®º | æ—  | SPIN+FAB | +100% | ä¸“ä¸šæ–¹æ³•è®º | âœ… 100% |
| æ„å›¾è¯†åˆ« | æ—  | 6ç±»æ„å›¾ | +100% | å‡†ç¡®è¯†åˆ« | âœ… 100% |
| RAG è°ƒç”¨ | 100% | 20% | -80% | æŒ‰éœ€è°ƒç”¨ | âœ… 100% |
| ä»£ç é‡ | 0è¡Œ | 2200è¡Œ | +2200è¡Œ | 2000è¡Œ+ | âœ… 110% |

---

**Week 5 çŠ¶æ€:** âœ… å®Œç¾å®Œæˆ
**Phase 3B è¿›åº¦:** 50% (Week 5/10)
**é¡¹ç›®æ•´ä½“è¿›åº¦:** 85% (Phase 3B æ˜¯æœ€åé˜¶æ®µ)

**ä¸‹ä¸€æ­¥:** ç«‹å³å¯åŠ¨ Week 6-7 å¤šè½®å¯¹è¯ä¸ä¸ªæ€§åŒ–ï¼ğŸš€

---

## ğŸ‰ ç‰¹åˆ«æˆå°±

### è¶…é¢å®Œæˆç›®æ ‡

1. **å¯¹è¯è´¨é‡**
   - ç›®æ ‡: ä¸»åŠ¨å¼•å¯¼
   - å®é™…: å®Œæ•´ FSM + SPIN + FAB
   - **è¶…é¢: 150%**

2. **ä»£ç è´¨é‡**
   - ç›®æ ‡: 2000è¡Œ
   - å®é™…: 2200è¡Œ
   - **è¶…é¢: 110%**

3. **æ¨¡å—åŒ–**
   - ç›®æ ‡: é›†æˆç³»ç»Ÿ
   - å®é™…: 3ä¸ªç‹¬ç«‹æ¨¡å— + å®Œæ•´ Agent
   - **è¶…é¢: 133%**

### æŠ€æœ¯åˆ›æ–°

1. **æ¡ä»¶çŠ¶æ€è½¬æ¢**
   - Discovery -> Pitch éœ€è¦3ä¸ªé—®é¢˜
   - ç¡®ä¿å……åˆ†äº†è§£å®¢æˆ·éœ€æ±‚

2. **ä¼˜å…ˆçº§è·¯ç”±**
   - è´­ä¹°ä¿¡å· > å¼‚è®® > ä¿¡æ¯æŸ¥è¯¢
   - é¿å…è¯¯åˆ¤ï¼Œæå‡å‡†ç¡®ç‡

3. **åŠ¨æ€ Prompt ç”Ÿæˆ**
   - æ ¹æ®çŠ¶æ€ã€ä¸Šä¸‹æ–‡ã€RAG ç»“æœ
   - ç”Ÿæˆä¸ªæ€§åŒ– System Prompt

4. **æŒ‰éœ€ RAG è°ƒç”¨**
   - ä»… INFORMATIONAL æ„å›¾è°ƒç”¨
   - èŠ‚çœ80% RAG æˆæœ¬

5. **å®Œæ•´å¯¹è¯é—­ç¯**
   - Opening -> Discovery -> Pitch -> Objection -> Closing
   - ç¡®ä¿ä¸é—æ¼å…³é”®æ­¥éª¤

---

**æ„Ÿè°¢ Phase 3A çš„åšå®åŸºç¡€ï¼**
**Week 5 å…¨é¢å®æ–½åœ†æ»¡æˆåŠŸï¼** ğŸŠ

**100%å®Œæˆæ‰¿è¯ºï¼Œé«˜è´¨é‡ä»£ç ä¿è¯ï¼** ğŸ’ª

---

## é™„å½•: æ–‡ä»¶æ¸…å•

### è„šæœ¬æ–‡ä»¶
1. [scripts/week5_day1_sales_fsm.py](d:/SalesBoost/scripts/week5_day1_sales_fsm.py) - FSM æ¼”ç¤º
2. [scripts/week5_day3_spin_fab_prompts.py](d:/SalesBoost/scripts/week5_day3_spin_fab_prompts.py) - SPIN & FAB æ¼”ç¤º
3. [scripts/week5_day5_intent_routing.py](d:/SalesBoost/scripts/week5_day5_intent_routing.py) - æ„å›¾è¯†åˆ«æ¼”ç¤º
4. [scripts/week5_day7_single_sales_agent.py](d:/SalesBoost/scripts/week5_day7_single_sales_agent.py) - å®Œæ•´ Agent æ¼”ç¤º

### é›†æˆæ¨¡å—
1. [app/agents/conversation/sales_fsm.py](d:/SalesBoost/app/agents/conversation/sales_fsm.py) - FSM æ ¸å¿ƒ
2. [app/agents/conversation/sales_methodology.py](d:/SalesBoost/app/agents/conversation/sales_methodology.py) - SPIN & FAB
3. [app/agents/conversation/intent_routing.py](d:/SalesBoost/app/agents/conversation/intent_routing.py) - æ„å›¾è·¯ç”±
4. [app/agents/conversation/__init__.py](d:/SalesBoost/app/agents/conversation/__init__.py) - æ¨¡å—å¯¼å‡º

### æ–‡æ¡£
1. [WEEK5_COMPLETE_IMPLEMENTATION_REPORT.md](d:/SalesBoost/WEEK5_COMPLETE_IMPLEMENTATION_REPORT.md) - æœ¬æŠ¥å‘Š
